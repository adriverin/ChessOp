{
    "_meta": {
        "models": {
            "user": "The signed-in player viewing their profile, including XP/level and streak.",
            "openings": "A chess opening family (e.g., Sicilian Defense). Each opening contains multiple variations (lines).",
            "variations": "A specific line inside an opening—the core learning unit with actual move sequences.",
            "userProgress": "Tracks how well the user knows each variation using spaced repetition (next review date, interval, ease factor).",
            "openingProgress": "A per-opening rollup used by the profile UI to show Mastered vs In Progress and a progress bar per opening.",
            "userMistakes": "The user's 'Blunder Basket'—positions where they played the wrong move, saved for targeted review.",
            "preferences": "Minimal profile preferences that influence training (theme, sound, move hints, auto-promotion).",
            "ui": "Local UI state for previewing the screen design (active tab and selected item)."
        },
        "relationships": [
            "Each Opening contains multiple Variations (the specific lines to learn)",
            "UserProgress links to a Variation to track mastery and SRS scheduling",
            "OpeningProgress summarizes progress across a single Opening's Variations",
            "UserMistakes reference a specific position (FEN) and link back to a Variation for retry"
        ]
    },
    "user": {
        "id": "user-001",
        "displayName": "Adrian R.",
        "username": "adrian_plays",
        "avatarUrl": "/images/avatars/user-001.png",
        "totalXp": 3120,
        "level": 14,
        "currentStreak": 6,
        "longestStreak": 19,
        "isPremium": false
    },
    "preferences": {
        "theme": "system",
        "soundEnabled": true,
        "moveHints": "on",
        "autoPromoteLines": true
    },
    "ui": {
        "activeTab": "openings",
        "selectedOpeningId": "opening-002",
        "selectedMistakeId": "mistake-004"
    },
    "openings": [
        {
            "id": "opening-001",
            "name": "Sicilian Defense",
            "description": "A fighting response to 1.e4, leading to unbalanced positions and rich tactics.",
            "side": "black",
            "eco": "B20-B99",
            "imageUrl": "/images/openings/sicilian.png",
            "variationCount": 2,
            "isPremium": false
        },
        {
            "id": "opening-002",
            "name": "Queen's Gambit",
            "description": "A classical 1.d4 opening where White offers a pawn to gain central control and long-term pressure.",
            "side": "white",
            "eco": "D06-D69",
            "imageUrl": "/images/openings/queens-gambit.png",
            "variationCount": 2,
            "isPremium": false
        },
        {
            "id": "opening-003",
            "name": "Caro-Kann Defense",
            "description": "A solid defense to 1.e4 aimed at a resilient pawn structure and good endgames.",
            "side": "black",
            "eco": "B10-B19",
            "imageUrl": "/images/openings/caro-kann.png",
            "variationCount": 2,
            "isPremium": false
        },
        {
            "id": "opening-004",
            "name": "Italian Game",
            "description": "Natural development with quick piece play and central control. Great for tactical patterns and open games.",
            "side": "white",
            "eco": "C50-C54",
            "imageUrl": "/images/openings/italian.png",
            "variationCount": 2,
            "isPremium": false
        },
        {
            "id": "opening-005",
            "name": "King's Indian Defense",
            "description": "A dynamic defense where Black invites White to build a big center, then strikes back with ...e5 or ...c5.",
            "side": "black",
            "eco": "E60-E99",
            "imageUrl": "/images/openings/kings-indian.png",
            "variationCount": 1,
            "isPremium": true
        },
        {
            "id": "opening-006",
            "name": "Ruy Lopez",
            "description": "A flagship 1.e4 opening for White.\n\nThis description is intentionally long to help test truncation, multi-line layout, and expansion behavior in the UI. The Ruy often becomes a lifetime study, making it a great candidate for a \"keep training\" CTA even after you reach a high mastery percent.",
            "side": "white",
            "eco": "C60-C99",
            "imageUrl": "/images/openings/ruy-lopez.png",
            "variationCount": 1,
            "isPremium": false
        }
    ],
    "variations": [
        {
            "id": "var-101",
            "openingId": "opening-001",
            "name": "Sicilian: Najdorf",
            "description": "A complex, theory-heavy Sicilian line with sharp play for both sides.",
            "moves": "1.e4 c5 2.Nf3 d6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 a6",
            "moveCount": 10,
            "difficulty": "advanced",
            "isPremium": false,
            "isLocked": false,
            "isInRepertoire": true
        },
        {
            "id": "var-102",
            "openingId": "opening-001",
            "name": "Sicilian: Dragon",
            "description": "An aggressive setup with ...g6 and opposite-side attacks.",
            "moves": "1.e4 c5 2.Nf3 d6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 g6",
            "moveCount": 10,
            "difficulty": "intermediate",
            "isPremium": false,
            "isLocked": false,
            "isInRepertoire": true
        },
        {
            "id": "var-201",
            "openingId": "opening-002",
            "name": "QGD: Orthodox Defense",
            "description": "A solid, classical defense with ...Be7 and ...O-O.",
            "moves": "1.d4 d5 2.c4 e6 3.Nc3 Nf6 4.Bg5 Be7 5.e3 O-O",
            "moveCount": 10,
            "difficulty": "beginner",
            "isPremium": false,
            "isLocked": false,
            "isInRepertoire": true
        },
        {
            "id": "var-202",
            "openingId": "opening-002",
            "name": "Slav Defense",
            "description": "Black supports d5 with ...c6 and fights for a solid structure.",
            "moves": "1.d4 d5 2.c4 c6 3.Nf3 Nf6 4.Nc3 dxc4",
            "moveCount": 8,
            "difficulty": "intermediate",
            "isPremium": false,
            "isLocked": false,
            "isInRepertoire": false
        },
        {
            "id": "var-301",
            "openingId": "opening-003",
            "name": "Caro-Kann: Classical",
            "description": "A principled main line with solid development and clear plans.",
            "moves": "1.e4 c6 2.d4 d5 3.Nc3 dxe4 4.Nxe4 Bf5",
            "moveCount": 8,
            "difficulty": "beginner",
            "isPremium": false,
            "isLocked": false,
            "isInRepertoire": true
        },
        {
            "id": "var-302",
            "openingId": "opening-003",
            "name": "Caro-Kann: Advance",
            "description": "White grabs space with e5; Black aims to undermine the center.",
            "moves": "1.e4 c6 2.d4 d5 3.e5 Bf5 4.Nf3 e6",
            "moveCount": 8,
            "difficulty": "intermediate",
            "isPremium": false,
            "isLocked": false,
            "isInRepertoire": true
        },
        {
            "id": "var-401",
            "openingId": "opening-004",
            "name": "Italian: Giuoco Piano",
            "description": "Quiet development leading to maneuvering and kingside ideas.",
            "moves": "1.e4 e5 2.Nf3 Nc6 3.Bc4 Bc5 4.c3 Nf6 5.d3",
            "moveCount": 10,
            "difficulty": "beginner",
            "isPremium": false,
            "isLocked": false,
            "isInRepertoire": true
        },
        {
            "id": "var-402",
            "openingId": "opening-004",
            "name": "Italian: Evans Gambit",
            "description": "A sharp gambit line where White sacrifices a pawn for initiative.",
            "moves": "1.e4 e5 2.Nf3 Nc6 3.Bc4 Bc5 4.b4 Bxb4 5.c3",
            "moveCount": 10,
            "difficulty": "advanced",
            "isPremium": false,
            "isLocked": false,
            "isInRepertoire": false
        },
        {
            "id": "var-501",
            "openingId": "opening-005",
            "name": "KID: Classical Variation",
            "description": "Main-line King's Indian structures with flexible plans and tactics.",
            "moves": "1.d4 Nf6 2.c4 g6 3.Nc3 Bg7 4.e4 d6",
            "moveCount": 8,
            "difficulty": "advanced",
            "isPremium": true,
            "isLocked": true,
            "isInRepertoire": false
        },
        {
            "id": "var-601",
            "openingId": "opening-006",
            "name": "Ruy Lopez: Morphy Defense",
            "description": "The classic ...a6 main line; a foundation for many Ruy Lopez systems.",
            "moves": "1.e4 e5 2.Nf3 Nc6 3.Bb5 a6",
            "moveCount": 6,
            "difficulty": "intermediate",
            "isPremium": false,
            "isLocked": false,
            "isInRepertoire": true
        }
    ],
    "userProgress": [
        {
            "id": "prog-101",
            "variationId": "var-201",
            "masteryPercent": 96,
            "streak": 31,
            "nextReviewDate": "2025-01-02T12:00:00Z",
            "interval": 14,
            "easeFactor": 2.7,
            "totalReviews": 44,
            "correctReviews": 41,
            "lastReviewedAt": "2024-12-18T09:20:00Z"
        },
        {
            "id": "prog-102",
            "variationId": "var-101",
            "masteryPercent": 78,
            "streak": 6,
            "nextReviewDate": "2024-12-19T20:00:00Z",
            "interval": 3,
            "easeFactor": 2.35,
            "totalReviews": 19,
            "correctReviews": 14,
            "lastReviewedAt": "2024-12-17T21:05:00Z"
        },
        {
            "id": "prog-103",
            "variationId": "var-102",
            "masteryPercent": 62,
            "streak": 3,
            "nextReviewDate": "2024-12-19T08:00:00Z",
            "interval": 2,
            "easeFactor": 2.15,
            "totalReviews": 12,
            "correctReviews": 8,
            "lastReviewedAt": "2024-12-18T07:40:00Z"
        },
        {
            "id": "prog-104",
            "variationId": "var-202",
            "masteryPercent": 93,
            "streak": 9,
            "nextReviewDate": "2025-01-05T09:00:00Z",
            "interval": 10,
            "easeFactor": 2.6,
            "totalReviews": 22,
            "correctReviews": 19,
            "lastReviewedAt": "2024-12-18T18:10:00Z"
        },
        {
            "id": "prog-105",
            "variationId": "var-301",
            "masteryPercent": 90,
            "streak": 14,
            "nextReviewDate": "2024-12-24T10:00:00Z",
            "interval": 7,
            "easeFactor": 2.55,
            "totalReviews": 26,
            "correctReviews": 23,
            "lastReviewedAt": "2024-12-17T13:30:00Z"
        },
        {
            "id": "prog-106",
            "variationId": "var-302",
            "masteryPercent": 51,
            "streak": 2,
            "nextReviewDate": "2024-12-19T14:00:00Z",
            "interval": 2,
            "easeFactor": 2.05,
            "totalReviews": 9,
            "correctReviews": 6,
            "lastReviewedAt": "2024-12-18T14:25:00Z"
        },
        {
            "id": "prog-107",
            "variationId": "var-401",
            "masteryPercent": 84,
            "streak": 8,
            "nextReviewDate": "2024-12-22T09:00:00Z",
            "interval": 5,
            "easeFactor": 2.4,
            "totalReviews": 18,
            "correctReviews": 15,
            "lastReviewedAt": "2024-12-16T19:10:00Z"
        },
        {
            "id": "prog-108",
            "variationId": "var-402",
            "masteryPercent": 0,
            "streak": 0,
            "nextReviewDate": null,
            "interval": 0,
            "easeFactor": 2.5,
            "totalReviews": 0,
            "correctReviews": 0,
            "lastReviewedAt": null
        },
        {
            "id": "prog-109",
            "variationId": "var-601",
            "masteryPercent": 71,
            "streak": 4,
            "nextReviewDate": "2024-12-20T16:00:00Z",
            "interval": 3,
            "easeFactor": 2.2,
            "totalReviews": 13,
            "correctReviews": 9,
            "lastReviewedAt": "2024-12-17T08:50:00Z"
        }
    ],
    "openingProgress": [
        {
            "openingId": "opening-002",
            "status": "mastered",
            "masteryPercent": 94,
            "masteredVariations": 2,
            "totalVariations": 2,
            "lastTrainedAt": "2024-12-18T09:20:00Z",
            "nextReviewDate": "2025-01-02T12:00:00Z"
        },
        {
            "openingId": "opening-001",
            "status": "inProgress",
            "masteryPercent": 70,
            "masteredVariations": 0,
            "totalVariations": 2,
            "lastTrainedAt": "2024-12-18T07:40:00Z",
            "nextReviewDate": "2024-12-19T08:00:00Z"
        },
        {
            "openingId": "opening-003",
            "status": "inProgress",
            "masteryPercent": 61,
            "masteredVariations": 1,
            "totalVariations": 2,
            "lastTrainedAt": "2024-12-18T14:25:00Z",
            "nextReviewDate": "2024-12-19T14:00:00Z"
        },
        {
            "openingId": "opening-004",
            "status": "inProgress",
            "masteryPercent": 42,
            "masteredVariations": 0,
            "totalVariations": 2,
            "lastTrainedAt": "2024-12-16T19:10:00Z",
            "nextReviewDate": "2024-12-22T09:00:00Z"
        },
        {
            "openingId": "opening-006",
            "status": "inProgress",
            "masteryPercent": 71,
            "masteredVariations": 0,
            "totalVariations": 1,
            "lastTrainedAt": "2024-12-17T08:50:00Z",
            "nextReviewDate": "2024-12-20T16:00:00Z"
        },
        {
            "openingId": "opening-005",
            "status": "inProgress",
            "masteryPercent": 0,
            "masteredVariations": 0,
            "totalVariations": 1,
            "lastTrainedAt": null,
            "nextReviewDate": null
        }
    ],
    "userMistakes": [
        {
            "id": "mistake-001",
            "variationId": "var-101",
            "fen": "rnbqkb1r/1p2pppp/p2p1n2/8/3NP3/2N5/PPP2PPP/R1BQKB1R w KQkq - 0 6",
            "wrongMove": "Bc4",
            "correctMove": "Be2",
            "explanation": "Be2 is the main line in the Najdorf, keeping options open. Bc4 allows ...e5 with tempo.",
            "occurredAt": "2024-12-17T21:05:00Z",
            "reviewedCount": 0,
            "lastReviewedAt": null,
            "tags": [
                "development",
                "tempo"
            ],
            "note": null
        },
        {
            "id": "mistake-002",
            "variationId": "var-102",
            "fen": "rnbqkb1r/pp2pp1p/3p1np1/8/3NP3/2N5/PPP2PPP/R1BQKB1R w KQkq - 0 6",
            "wrongMove": "f3",
            "correctMove": "Be3",
            "explanation": "Be3 prepares the Yugoslav-style setup with Qd2 and long castling. f3 is too slow here.",
            "occurredAt": "2024-12-16T10:15:00Z",
            "reviewedCount": 2,
            "lastReviewedAt": "2024-12-17T08:10:00Z",
            "tags": [],
            "note": "I keep playing pawn moves when I feel \"behind\" in development. Try to finish development first (Be3/Qd2) before committing to f-pawn pushes."
        },
        {
            "id": "mistake-003",
            "variationId": "var-201",
            "fen": "rnbqk2r/ppp1bppp/4pn2/3p2B1/2PP4/2N5/PP2PPPP/R2QKBNR w KQkq - 2 5",
            "wrongMove": "Nf3",
            "correctMove": "e3",
            "explanation": "e3 supports the center and prepares Bd3. Nf3 is playable but less accurate in this move order.",
            "occurredAt": "2024-12-15T16:45:00Z",
            "reviewedCount": 1,
            "lastReviewedAt": "2024-12-16T11:30:00Z",
            "tags": [
                "move-order"
            ],
            "note": null
        },
        {
            "id": "mistake-004",
            "variationId": "var-302",
            "fen": "rnbqkbnr/pp2pppp/2p5/3pP3/3P1B2/8/PPP1PPPP/RN1QKBNR b KQkq - 0 3",
            "wrongMove": "Bf5",
            "correctMove": "Qb6",
            "explanation": "Qb6 immediately pressures b2 and d4, forcing White to respond. ...Bf5 is fine but misses a concrete tempo-gaining plan.",
            "occurredAt": "2024-12-18T14:25:00Z",
            "reviewedCount": 0,
            "lastReviewedAt": null,
            "tags": [
                "tactics",
                "queen-activity"
            ],
            "note": "Remember: in the Advance, ...Qb6 is a standard early theme—hit b2/d4 before developing the bishop."
        },
        {
            "id": "mistake-005",
            "variationId": "var-401",
            "fen": "r1bqk2r/pppp1ppp/2n2n2/2b1p3/2B1P3/2N2N2/PPPP1PPP/R1BQK2R w KQkq - 4 4",
            "wrongMove": "d4",
            "correctMove": "O-O",
            "explanation": "Castling keeps king safety and prepares d4 under better conditions. Pushing d4 immediately can allow ...Nxe4 tactics in some lines.",
            "occurredAt": "2024-12-13T19:10:00Z",
            "reviewedCount": 3,
            "lastReviewedAt": "2024-12-18T09:05:00Z",
            "tags": [
                "king-safety"
            ],
            "note": null
        },
        {
            "id": "mistake-006",
            "variationId": "var-601",
            "fen": "r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 2 3",
            "wrongMove": "Nd4",
            "correctMove": "a6",
            "explanation": "In the Morphy Defense, ...a6 is the signature move—ask the bishop a question before committing the knight.",
            "occurredAt": "2024-12-12T08:50:00Z",
            "reviewedCount": 0,
            "lastReviewedAt": null,
            "tags": [
                "principle"
            ],
            "note": null
        },
        {
            "id": "mistake-007",
            "variationId": "var-202",
            "fen": "rnbqkb1r/pp2pppp/2p2n2/3p4/2PP4/5N2/PP2PPPP/RNBQKB1R b KQkq - 1 3",
            "wrongMove": "dxc4",
            "correctMove": "e6",
            "explanation": "Keeping central tension with ...e6 is a flexible approach. Capturing on c4 is playable, but here it gives White easy development and tempo.",
            "occurredAt": "2024-12-11T18:10:00Z",
            "reviewedCount": 4,
            "lastReviewedAt": "2024-12-17T18:55:00Z",
            "tags": [
                "center"
            ],
            "note": null
        }
    ]
}
